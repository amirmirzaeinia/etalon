We run an experiment 10G-1G simulated testbed of 8 hosts. The demand has 1 big flow that takes 85% of the link bandwidth and 3 small flows that takes 10% of the link bandwidth. On top of that, some small control packet streams (each take less than 1% link bandwidth) are scheduled among all hosts. The total usage of the switch capacity is 98.16%.

We tested scheduling this demand on our hybrid switch setup with two schedulers: Align and Solstice. When using the Align scheduler, 87.5% of the total switch capacity is utilized, and when using Solstice, 90.9% of the total switch capacity is used. The throughput improvement seems small. However, as Align failed to scheduled some of the small flows via the circuit switch, packets get queued up at the NIC buffers and latency on the contrl path packets goes up dramatically. Using Align, the latency is 2.1ms at 90 percentile, 4.0ms at 99 percentile, and has a 5.0ms maximum, while if using Solstice with exactly the same workload, the latency is 5{\mu}s at 90 percentile, 33{\mu}s at 99 percentile, and 52{\mu}s maximum.

